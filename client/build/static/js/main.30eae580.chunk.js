(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{74:function(e,t,n){},99:function(e,t,n){"use strict";n.r(t);var a,r,c,i,s=n(0),l=n.n(s),d=n(9),u=n.n(d),j=(n(74),n(7)),o=n(12),b=n.n(o),p=n(43),h=n(17),x=n(18),O=n.n(x),v=n(46),m=n(47),f=n(130),y=m.a.div(a||(a=Object(v.a)(["\n  padding: ",";\n  padding-top: ",";\n  padding-bottom: ",";\n  padding-left: ",";\n  padding-right: ",";\n  display: flex;\n  flex: 1;\n  width: calc(100%-padding-border);\n  flex-direction: ",";\n  align-items: ",";\n  justify-content: ",";\n"])),(function(e){var t;return null!==(t=e.padding)&&void 0!==t?t:0}),(function(e){var t,n;return null!==(t=null!==(n=e.paddingTop)&&void 0!==n?n:e.padding)&&void 0!==t?t:0}),(function(e){var t,n;return null!==(t=null!==(n=e.paddingBottom)&&void 0!==n?n:e.padding)&&void 0!==t?t:0}),(function(e){var t,n;return null!==(t=null!==(n=e.paddingLeft)&&void 0!==n?n:e.padding)&&void 0!==t?t:0}),(function(e){var t,n;return null!==(t=null!==(n=e.paddingRight)&&void 0!==n?n:e.padding)&&void 0!==t?t:0}),(function(e){var t;return null!==(t=e.flexDirection)&&void 0!==t?t:"column"}),(function(e){var t;return null!==(t=e.alignItems)&&void 0!==t?t:"flex-start"}),(function(e){var t;return null!==(t=e.justifyContent)&&void 0!==t?t:"center"})),g=Object(m.a)(f.a)(r||(r=Object(v.a)(["\n  min-height: 60px;\n  min-width: 80px;\n  margin: 10px;\n  padding: 10px;\n  border-color: #7a7;\n  border-radius: 4px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]))),E=n(1),C=function(e){var t=e.vegName,n=e.vegEmoji,a=e.selectCurrentVeg;return Object(E.jsx)(g,{variant:"outlined",onClick:a,children:Object(E.jsxs)("div",{children:[Object(E.jsx)("h1",{style:{padding:0,margin:0},children:n||"\ud83c\udf45"})," ",!!t&&Object(E.jsx)("p",{style:{padding:0,margin:0,textAlign:"center",textTransform:"none"},children:t})]})})},S=function(e){var t=e.createNewVegHandler;return Object(E.jsx)(g,{variant:"outlined",onClick:function(){t()},children:Object(E.jsx)("h4",{style:{textTransform:"none"},children:"+ Ajouter"})})},D=n(33);!function(e){e.PLANT="PLANT",e.SEED="SEED",e.CLEAR="CLEAR",e.PRUNE="PRUNE",e.HARVEST="HARVEST"}(i||(i={}));var w=(c={},Object(D.a)(c,i.PLANT,"Plantage des graines"),Object(D.a)(c,i.SEED,"Semis en pleine terre"),Object(D.a)(c,i.CLEAR,"Eclaircissement"),Object(D.a)(c,i.PRUNE,"Elaguage"),Object(D.a)(c,i.HARVEST,"Recolte"),c),N={0:"Janvier",1:"Fevrier",2:"Mars",3:"Avril",4:"Mai",5:"Juin",6:"Juillet",7:"Aout",8:"Septembre",9:"Octobre",10:"Novembre",11:"Decembre"},A=(i.PLANT,i.SEED,i.PLANT,function(e){var t=e.date,n=e.deleteKeyDate;return Object(E.jsx)("div",{style:k,children:Object(E.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(E.jsxs)("div",{children:[Object(E.jsx)("div",{children:w[t.eventName]}),Object(E.jsx)("div",{style:{fontSize:12},children:function(e,t){var n=Object.values(N);return e===t?"en ".concat(n[e]):e<t?"Entre ".concat(n[e]," et ").concat(n[t]):"periode inconnue"}(t.earliest,t.latest)}),Object(E.jsx)("div",{style:{fontSize:12},children:t.description}),Object(E.jsx)("div",{style:{fontSize:12},children:t.calculationMethod?function(){if(null===t||void 0===t?void 0:t.calculationMethod){var e=w[t.calculationMethod.toEvent];return"".concat(t.calculationMethod.differenceInDays," jours apres le/la ").concat(e)}}():null})]}),!!n&&Object(E.jsx)(f.a,{style:{height:32,minWidth:32},onClick:n,children:"x"})]})})}),k={margin:"6px 0 6px 0",padding:12,border:"solid 1px #666",borderRadius:4},F=function(e){var t=e.selectedVeg,n=e.setSelectedVeg,a=function(){var e=Object(h.a)(b.a.mark((function e(){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=t._id)){e.next=4;break}return e.next=4,O.a.delete("api/vegetable/".concat(a));case 4:n(null);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)("div",{style:{paddingLeft:24,paddingRight:24},children:[Object(E.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:24},children:[Object(E.jsx)("h1",{children:t.emoji}),Object(E.jsxs)("h3",{children:["Fiche ",t.name," detaillee"]}),Object(E.jsx)(f.a,{variant:"outlined",size:"small",onClick:function(){return n(null)},style:{margin:12,padding:4},children:"x"})]}),Object(E.jsxs)("div",{style:{maxWidth:500,margin:"auto"},children:[Object(E.jsx)("p",{children:t.description}),!!t.spacing.betweenPlantsM&&Object(E.jsx)("p",{children:"Espace entre les plants: ".concat(t.spacing.betweenPlantsM," m")}),!!t.spacing.betweenLinesM&&Object(E.jsx)("p",{children:"Espace entre les lignes: ".concat(t.spacing.betweenLinesM," m")}),!!t.spacing.necessarySpaceSqm&&Object(E.jsx)("p",{children:"Espace total par plant necessaire: ".concat(t.spacing.necessarySpaceSqm," m2")}),!!t.wateringFrequencyDays&&Object(E.jsx)("p",{children:"Frequence d'arrosage: tous les ".concat(t.wateringFrequencyDays," jours")}),!!t.harvest.minKilos&&Object(E.jsx)("p",{children:"Chaque plant fournit une recolte entre ".concat(t.harvest.minKilos," et ").concat(t.harvest.maxKilos," KG")})]}),Object(E.jsxs)("div",{style:{maxWidth:500,margin:"auto"},children:[Object(E.jsx)("h4",{children:"Dates cl\xe9:"}),t.keyDates.map((function(e){return Object(E.jsx)(A,{date:e})}))]}),Object(E.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(E.jsx)(f.a,{onClick:a,children:"supprimer"})})]})},L=n(131),M=n(132),R=n(128),P=n(129),T=function(e){var t=e.keyDates,n=e.addKeyDate,a=e.setIsAddKeyDateView,r=Object(s.useState)(i.SEED),c=Object(j.a)(r,2),l=c[0],d=c[1],u=Object(s.useState)(""),o=Object(j.a)(u,2),b=o[0],p=o[1],h=Object(s.useState)(0),x=Object(j.a)(h,2),O=x[0],v=x[1],m=Object(s.useState)(0),y=Object(j.a)(m,2),g=y[0],C=y[1],S=Object(s.useState)(0),D=Object(j.a)(S,2),A=D[0],k=D[1],F=Object(s.useState)(i.PLANT),T=Object(j.a)(F,2),V=T[0],K=T[1],I=t.length?t.map((function(e){return e.eventName})):[];return Object(E.jsxs)("div",{style:{display:"flex",flexDirection:"column",padding:12,border:"1px #777 solid",borderRadius:4},children:[Object(E.jsx)("h4",{children:"Nouvelle date cl\xe9:"}),Object(E.jsxs)(L.a,{children:[Object(E.jsx)(M.a,{id:"helper11",htmlFor:"my-input11",children:"Type:"}),Object(E.jsx)(P.a,{onChange:function(e){return d(e.target.value)},value:l,children:[i.SEED,i.PLANT,i.PRUNE,i.CLEAR,i.HARVEST].map((function(e){return Object(E.jsx)("option",{value:e,children:w[e]},e)}))})]}),Object(E.jsxs)(L.a,{children:[Object(E.jsx)(M.a,{htmlFor:"my-input12",children:"Description:"}),Object(E.jsx)(R.a,{id:"my-input12","aria-describedby":"my-helper-text12",type:"text",value:b,onChange:function(e){return p(e.target.value)}})]}),Object(E.jsxs)(L.a,{children:[Object(E.jsx)(M.a,{id:"helper13",htmlFor:"my-input13",children:"Au plus t\xf4t en:"}),Object(E.jsx)(P.a,{onChange:function(e){return v(Number(e.target.value))},value:O,children:Object.values(N).map((function(e,t){return Object(E.jsx)("option",{value:t,children:e},t)}))})]}),Object(E.jsxs)(L.a,{children:[Object(E.jsx)(M.a,{id:"helper14",htmlFor:"my-input14",children:"Au plus tard en:"}),Object(E.jsx)(P.a,{onChange:function(e){return C(Number(e.target.value))},value:g,children:Object.values(N).map((function(e,t){return Object(E.jsx)("option",{value:t,children:e},t)}))})]}),!!t.length&&Object(E.jsxs)(L.a,{children:[Object(E.jsx)(M.a,{htmlFor:"my-input15",children:"(Optionnel) nombre de jours apres un autre \xe9vennement"}),Object(E.jsx)(R.a,{id:"my-input15","aria-describedby":"my-helper-text15",type:"number",value:A,onChange:function(e){return k(Number(e.target.value))}})]}),!!A&&Object(E.jsxs)(L.a,{children:[Object(E.jsx)(M.a,{id:"helper16",htmlFor:"my-input16",children:"jours apres l'\xe9vennement suivant:"}),Object(E.jsx)(P.a,{onChange:function(e){return K(e.target.value)},value:V,children:I.map((function(e,t){return Object(E.jsx)("option",{value:e,children:w[e]},t)}))})]}),Object(E.jsxs)("div",{style:{display:"flex",justifyContent:"center",padding:12},children:[Object(E.jsx)("div",{style:{padding:12},children:Object(E.jsx)(f.a,{variant:"outlined",onClick:function(){n({newKeyDateEventType:l,newEventDescription:b,earliestDateMonth:O,latestDateMonth:g,numberDaysLater:A,referenceEventForKeyDate:V})},children:"Ajouter"})}),Object(E.jsx)("div",{style:{padding:12},children:Object(E.jsx)(f.a,{variant:"outlined",onClick:function(){return a(!1)},children:"Annuler"})})]})]})},V=function(e){var t=e.setIsCreateVegView,n=Object(s.useState)(""),a=Object(j.a)(n,2),r=a[0],c=a[1],i=Object(s.useState)(""),l=Object(j.a)(i,2),d=l[0],u=l[1],o=Object(s.useState)(""),x=Object(j.a)(o,2),v=x[0],m=x[1],g=Object(s.useState)("0"),C=Object(j.a)(g,2),S=C[0],D=C[1],w=Object(s.useState)("0"),N=Object(j.a)(w,2),k=N[0],F=N[1],V=Object(s.useState)("0"),K=Object(j.a)(V,2),I=K[0],q=K[1],J=Object(s.useState)("0"),H=Object(j.a)(J,2),W=H[0],z=H[1],B=Object(s.useState)("0"),U=Object(j.a)(B,2),G=U[0],_=U[1],Q=Object(s.useState)("0"),X=Object(j.a)(Q,2),Y=X[0],Z=X[1],$=Object(s.useState)([]),ee=Object(j.a)($,2),te=ee[0],ne=ee[1],ae=Object(s.useState)(!1),re=Object(j.a)(ae,2),ce=re[0],ie=re[1];Object(s.useEffect)((function(){var e=(Number(S)*Number(k)).toFixed(2);q(e)}),[S,k]);var se=function(){var e=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("api/vegetable",{name:r,description:d,emoji:v,spacing:{betweenPlantsM:Number(S),betweenLinesM:Number(k),necessarySpaceSqM:Number(I)},harvest:{minKilos:Number(W),maxKilos:Number(G)},wateringFrequencyDays:Number(Y),keyDates:te});case 2:t(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(){return Object(E.jsx)(f.a,{variant:"outlined",onClick:function(){return ie(!0)},children:Object(E.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(E.jsx)("div",{children:"+ Ajouter une date cl\xe9"})})})};return Object(E.jsxs)("div",{children:[Object(E.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:24},children:[Object(E.jsx)("h3",{children:"Cr\xe9er une fiche Legume"}),Object(E.jsx)(f.a,{variant:"outlined",onClick:function(){return t(!1)},style:{margin:12},children:"x"})]}),Object(E.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:500,margin:"auto"},children:[Object(E.jsxs)(L.a,{children:[Object(E.jsx)(M.a,{htmlFor:"my-input",children:"Denomination du legume"}),Object(E.jsx)(R.a,{id:"my-input","aria-describedby":"my-helper-text",value:r,onChange:function(e){return c(e.target.value)}})]}),Object(E.jsxs)(L.a,{children:[Object(E.jsx)(M.a,{id:"helper2",htmlFor:"my-input2",children:"Emoji"}),Object(E.jsx)(P.a,{value:v,onChange:function(e){return m(e.target.value)},children:["","\ud83c\udf36","\ud83c\udf3d","\ud83c\udf45","\ud83e\udd55","\ud83c\udf46","\ud83e\udd6c","\ud83e\uddc5","\ud83e\udd66","\ud83c\udf47","\ud83e\udd54","\ud83e\udd52","\ud83e\uddc4"," \ud83c\udf49","\ud83c\udf48"].map((function(e){return Object(E.jsx)("option",{value:e,children:e})}))})]}),Object(E.jsxs)(L.a,{children:[Object(E.jsx)(M.a,{htmlFor:"my-input111",children:"Description du legume"}),Object(E.jsx)(R.a,{id:"my-input111","aria-describedby":"my-helper-text111",value:d,onChange:function(e){return u(e.target.value)}})]}),Object(E.jsxs)(L.a,{children:[Object(E.jsx)(M.a,{htmlFor:"my-input3",children:"Espace entre les plants (m)"}),Object(E.jsx)(R.a,{id:"my-input3","aria-describedby":"my-helper-text3",type:"number",value:S,onChange:function(e){e&&D(e.target.value)}})]}),Object(E.jsxs)(L.a,{children:[Object(E.jsx)(M.a,{htmlFor:"my-input4",children:"Espace entre les lignes (m)"}),Object(E.jsx)(R.a,{id:"my-input4","aria-describedby":"my-helper-text4",type:"number",value:k,onChange:function(e){e&&F(e.target.value)}})]}),Object(E.jsxs)(L.a,{children:[Object(E.jsx)(M.a,{htmlFor:"my-input5",children:"Espace par plant necessaire (m2)"}),Object(E.jsx)(R.a,{id:"my-input5","aria-describedby":"my-helper-text5",type:"number",value:I,onChange:function(e){return q(e.target.value)}})]}),Object(E.jsxs)(y,{flexDirection:"row",children:[Object(E.jsx)("h4",{children:"Recolte par plant (kg)"}),Object(E.jsx)("div",{style:{paddingLeft:16,paddingRight:16},children:Object(E.jsxs)(L.a,{children:[Object(E.jsx)(M.a,{htmlFor:"my-input8",children:"Min"}),Object(E.jsx)(R.a,{id:"my-input8","aria-describedby":"my-helper-text8",type:"number",value:W,onChange:function(e){return z(e.target.value)}})]})}),Object(E.jsxs)(L.a,{children:[Object(E.jsx)(M.a,{htmlFor:"my-input9",children:"Max"}),Object(E.jsx)(R.a,{id:"my-input9","aria-describedby":"my-helper-text9",type:"number",value:G,onChange:function(e){return _(e.target.value)}})]})]}),Object(E.jsxs)(L.a,{children:[Object(E.jsx)(M.a,{htmlFor:"my-input10",children:"Arroser tous les ... jours"}),Object(E.jsx)(R.a,{id:"my-input10","aria-describedby":"my-helper-text10",type:"number",value:Y,onChange:function(e){return Z(e.target.value)}})]}),Object(E.jsx)("h4",{children:"Dates cl\xe9:"}),ce?Object(E.jsx)(T,{keyDates:te,addKeyDate:function(e){var t=e.newKeyDateEventType,n=e.newEventDescription,a=e.earliestDateMonth,r=e.latestDateMonth,c=e.numberDaysLater,i=e.referenceEventForKeyDate,s={eventName:t,description:n,earliest:a,latest:r,calculationMethod:c?{differenceInDays:c,toEvent:i}:void 0},l=te.concat([s]);ne(l),ie(!1)},setIsAddKeyDateView:ie}):Object(E.jsx)(le,{}),te.map((function(e,t){return Object(E.jsx)(A,{date:e,deleteKeyDate:function(){return function(e){var t=te;t.splice(e,1),ne(Object(p.a)(t))}(t)}},t)})),Object(E.jsx)("div",{style:{padding:24,margin:"auto"},children:Object(E.jsx)(f.a,{onClick:se,variant:"contained",children:"Creer"})})]})]})},K={padding:20,display:"flex"},I=function(){var e=Object(s.useState)(null),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(s.useState)(!1),c=Object(j.a)(r,2),i=c[0],l=c[1],d=Object(s.useState)([""]),u=Object(j.a)(d,2),o=u[0],x=u[1];Object(s.useEffect)((function(){(function(){var e=Object(h.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("/api/vegetable");case 3:t=e.sent,(n=t.data)&&x([""].concat(Object(p.a)(n))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[i,n]);var v=function(){return l(!0)},m=o.map((function(e,t){return 0===t?Object(E.jsx)(S,{createNewVegHandler:v}):Object(E.jsx)(C,{vegName:e.name,vegEmoji:e.emoji,selectCurrentVeg:function(){a(e)}})}));return Object(E.jsx)("div",{children:i?Object(E.jsx)(V,{setIsCreateVegView:l}):n?Object(E.jsx)(F,{selectedVeg:n,setSelectedVeg:a}):Object(E.jsx)("div",{style:K,children:m})})},q={margin:4,border:"solid 1px black",borderRadius:4,width:120,height:120},J=function(){var e=Object(s.useState)([]),t=Object(j.a)(e,2),n=t[0],a=t[1],r=function(){var e=Object(h.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("api/parcel/");case 2:(null===(n=e.sent)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.length)&&a(n.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){r()}),[]);var c=function(){var e=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("api/parcel/",{});case 2:r();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)("div",{style:{padding:24},children:[Object(E.jsx)("h2",{children:"Jardin"}),Object(E.jsx)("p",{children:"Page en construction - \xe7a va venir - avec plan des parcelles et contenus de chacune d'elles"}),Object(E.jsx)("div",{children:Object(E.jsx)(f.a,{variant:"outlined",onClick:c,children:"Ajouter Parcelle"})}),Object(E.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:n.map((function(e,t){return Object(E.jsx)("div",{style:q},t)}))})]})},H={maxWidth:900,margin:"auto",display:"flex",flexDirection:"column",border:"solid 1px #aaa"},W={padding:20},z="VEGES",B="GARDEN",U=function(){var e=Object(s.useState)(z),t=Object(j.a)(e,2),n=t[0],a=t[1];return Object(E.jsxs)("div",{style:H,children:[Object(E.jsx)("div",{style:W,children:Object(E.jsx)("h1",{children:"Bienvenue a Smart Jardin!"})}),Object(E.jsxs)("div",{style:{display:"flex",flex:1,padding:10},children:[Object(E.jsx)("div",{style:{padding:10},children:Object(E.jsx)(f.a,{color:n===z?"primary":"default",variant:"outlined",onClick:function(){return a(z)},children:Object(E.jsx)("h3",{children:"Legumes"})})}),Object(E.jsx)("div",{style:{padding:10},children:Object(E.jsx)(f.a,{color:n===B?"primary":"default",variant:"outlined",onClick:function(){return a(B)},children:Object(E.jsx)("h3",{children:"Jardin"})})})]}),n===z&&Object(E.jsx)(I,{}),n===B&&Object(E.jsx)(J,{})]})},G=function(){return Object(E.jsx)(U,{})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,134)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};u.a.render(Object(E.jsx)(l.a.StrictMode,{children:Object(E.jsx)(G,{})}),document.getElementById("root")),_()}},[[99,1,2]]]);
//# sourceMappingURL=main.30eae580.chunk.js.map