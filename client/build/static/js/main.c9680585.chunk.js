(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{74:function(e,t,n){},99:function(e,t,n){"use strict";n.r(t);var i,a,r=n(0),c=n.n(r),l=n(9),s=n.n(l),d=(n(74),n(8)),u=n(16),j=n.n(u),o=n(43),b=n(28),p=n(29),h=n.n(p),x=n(130),O=n(2),m={minHeight:60,minWidth:80,margin:10,padding:10,borderColor:"#7a7",borderRadius:4,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},v=function(e){var t=e.vegName,n=e.vegEmoji,i=e.selectCurrentVeg;return Object(O.jsx)(x.a,{variant:"outlined",style:m,onClick:i,children:Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{style:{padding:0,margin:0},children:n||"\ud83c\udf45"})," ",!!t&&Object(O.jsx)("p",{style:{padding:0,margin:0,textAlign:"center",textTransform:"none"},children:t})]})})},y={minHeight:60,minWidth:80,margin:10,padding:10,borderColor:"#7a7",borderRadius:4,display:"flex",alignItems:"center",justifyContent:"center"},f=function(e){var t=e.createNewVegHandler;return Object(O.jsx)(x.a,{variant:"outlined",style:y,onClick:function(){t()},children:Object(O.jsx)("h4",{style:{textTransform:"none"},children:"+ Ajouter"})})},g=n(33);!function(e){e.PLANT="PLANT",e.SEED="SEED",e.CLEAR="CLEAR",e.PRUNE="PRUNE",e.HARVEST="HARVEST"}(a||(a={}));var C,E=(i={},Object(g.a)(i,a.PLANT,"Plantage des graines"),Object(g.a)(i,a.SEED,"Semis en pleine terre"),Object(g.a)(i,a.CLEAR,"Eclaircissement"),Object(g.a)(i,a.PRUNE,"Elaguage"),Object(g.a)(i,a.HARVEST,"Recolte"),i),S={0:"Janvier",1:"Fevrier",2:"Mars",3:"Avril",4:"Mai",5:"Juin",6:"Juillet",7:"Aout",8:"Septembre",9:"Octobre",10:"Novembre",11:"Decembre"},D=(a.PLANT,a.SEED,a.PLANT,function(e){var t=e.date,n=e.deleteKeyDate;return Object(O.jsx)("div",{style:w,children:Object(O.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{children:E[t.eventName]}),Object(O.jsx)("div",{style:{fontSize:12},children:function(e,t){var n=Object.values(S);return e===t?"en ".concat(n[e]):e<t?"Entre ".concat(n[e]," et ").concat(n[t]):"periode inconnue"}(t.earliest,t.latest)}),Object(O.jsx)("div",{style:{fontSize:12},children:t.description}),Object(O.jsx)("div",{style:{fontSize:12},children:t.calculationMethod?function(){if(null===t||void 0===t?void 0:t.calculationMethod){var e=E[t.calculationMethod.toEvent];return"".concat(t.calculationMethod.differenceInDays," jours apres le/la ").concat(e)}}():null})]}),!!n&&Object(O.jsx)(x.a,{style:{height:32,minWidth:32},onClick:n,children:"x"})]})})}),w={margin:"6px 0 6px 0",padding:12,border:"solid 1px #666",borderRadius:4},N=function(e){var t=e.selectedVeg,n=e.setSelectedVeg,i=function(){var e=Object(b.a)(j.a.mark((function e(){var i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=t._id)){e.next=4;break}return e.next=4,h.a.delete("api/vegetable/".concat(i));case 4:n(null);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{style:{paddingLeft:24,paddingRight:24},children:[Object(O.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:24},children:[Object(O.jsx)("h1",{children:t.emoji}),Object(O.jsxs)("h3",{children:["Fiche ",t.name," detaillee"]}),Object(O.jsx)(x.a,{variant:"outlined",size:"small",onClick:function(){return n(null)},style:{margin:12,padding:4},children:"x"})]}),Object(O.jsx)("p",{children:t.description}),!!t.spacing.betweenPlantsM&&Object(O.jsx)("p",{children:"Espace entre les plants: ".concat(t.spacing.betweenPlantsM," m")}),!!t.spacing.betweenLinesM&&Object(O.jsx)("p",{children:"Espace entre les lignes: ".concat(t.spacing.betweenLinesM," m")}),!!t.spacing.necessarySpaceSqm&&Object(O.jsx)("p",{children:"Espace total par plant necessaire: ".concat(t.spacing.necessarySpaceSqm," m2")}),!!t.wateringFrequencyDays&&Object(O.jsx)("p",{children:"Frequence d'arrosage: tous les ".concat(t.wateringFrequencyDays," jours")}),!!t.harvest.minKilos&&Object(O.jsx)("p",{children:"Chaque plant fournit une recolte de ".concat(t.harvest.minKilos," KG mini et ").concat(t.harvest.maxKilos," KG maxi")}),Object(O.jsx)("div",{style:{maxWidth:500,margin:"auto"},children:t.keyDates.map((function(e){return Object(O.jsx)(D,{date:e})}))}),Object(O.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(O.jsx)(x.a,{onClick:i,children:"supprimer"})})]})},A=n(61),F=n(62).a.div(C||(C=Object(A.a)(["\n  padding: ",";\n  padding-top: ",";\n  padding-bottom: ",";\n  padding-left: ",";\n  padding-right: ",";\n  display: flex;\n  flex: 1;\n  width: calc(100%-padding-border);\n  flex-direction: ",";\n  align-items: ",";\n  justify-content: ",";\n"])),(function(e){var t;return null!==(t=e.padding)&&void 0!==t?t:0}),(function(e){var t,n;return null!==(t=null!==(n=e.paddingTop)&&void 0!==n?n:e.padding)&&void 0!==t?t:0}),(function(e){var t,n;return null!==(t=null!==(n=e.paddingBottom)&&void 0!==n?n:e.padding)&&void 0!==t?t:0}),(function(e){var t,n;return null!==(t=null!==(n=e.paddingLeft)&&void 0!==n?n:e.padding)&&void 0!==t?t:0}),(function(e){var t,n;return null!==(t=null!==(n=e.paddingRight)&&void 0!==n?n:e.padding)&&void 0!==t?t:0}),(function(e){var t;return null!==(t=e.flexDirection)&&void 0!==t?t:"column"}),(function(e){var t;return null!==(t=e.alignItems)&&void 0!==t?t:"flex-start"}),(function(e){var t;return null!==(t=e.justifyContent)&&void 0!==t?t:"center"})),k=n(131),L=n(132),R=n(128),M=n(129),T=function(e){var t=e.keyDates,n=e.addKeyDate,i=e.setIsAddKeyDateView,c=Object(r.useState)(a.SEED),l=Object(d.a)(c,2),s=l[0],u=l[1],j=Object(r.useState)(""),o=Object(d.a)(j,2),b=o[0],p=o[1],h=Object(r.useState)(0),m=Object(d.a)(h,2),v=m[0],y=m[1],f=Object(r.useState)(0),g=Object(d.a)(f,2),C=g[0],D=g[1],w=Object(r.useState)(0),N=Object(d.a)(w,2),A=N[0],F=N[1],T=Object(r.useState)(a.PLANT),V=Object(d.a)(T,2),P=V[0],K=V[1],I=t.length?t.map((function(e){return e.eventName})):[];return Object(O.jsxs)("div",{style:{display:"flex",flexDirection:"column",padding:12,border:"1px #777 solid",borderRadius:4},children:[Object(O.jsx)("h4",{children:"Nouvelle date cl\xe9:"}),Object(O.jsxs)(k.a,{children:[Object(O.jsx)(L.a,{id:"helper11",htmlFor:"my-input11",children:"Type:"}),Object(O.jsx)(M.a,{onChange:function(e){return u(e.target.value)},value:s,children:[a.SEED,a.PLANT,a.PRUNE,a.CLEAR,a.HARVEST].map((function(e){return Object(O.jsx)("option",{value:e,children:E[e]},e)}))})]}),Object(O.jsxs)(k.a,{children:[Object(O.jsx)(L.a,{htmlFor:"my-input12",children:"Description:"}),Object(O.jsx)(R.a,{id:"my-input12","aria-describedby":"my-helper-text12",type:"text",value:b,onChange:function(e){return p(e.target.value)}})]}),Object(O.jsxs)(k.a,{children:[Object(O.jsx)(L.a,{id:"helper13",htmlFor:"my-input13",children:"Au plus t\xf4t en:"}),Object(O.jsx)(M.a,{onChange:function(e){return y(Number(e.target.value))},value:v,children:Object.values(S).map((function(e,t){return Object(O.jsx)("option",{value:t,children:e},t)}))})]}),Object(O.jsxs)(k.a,{children:[Object(O.jsx)(L.a,{id:"helper14",htmlFor:"my-input14",children:"Au plus tard en:"}),Object(O.jsx)(M.a,{onChange:function(e){return D(Number(e.target.value))},value:C,children:Object.values(S).map((function(e,t){return Object(O.jsx)("option",{value:t,children:e},t)}))})]}),!!t.length&&Object(O.jsxs)(k.a,{children:[Object(O.jsx)(L.a,{htmlFor:"my-input15",children:"(Optionnel) nombre de jours apres un autre \xe9vennement"}),Object(O.jsx)(R.a,{id:"my-input15","aria-describedby":"my-helper-text15",type:"number",value:A,onChange:function(e){return F(Number(e.target.value))}})]}),!!A&&Object(O.jsxs)(k.a,{children:[Object(O.jsx)(L.a,{id:"helper16",htmlFor:"my-input16",children:"jours apres l'\xe9vennement suivant:"}),Object(O.jsx)(M.a,{onChange:function(e){return K(e.target.value)},value:P,children:I.map((function(e,t){return Object(O.jsx)("option",{value:e,children:E[e]},t)}))})]}),Object(O.jsxs)("div",{style:{display:"flex",justifyContent:"center",padding:12},children:[Object(O.jsx)(x.a,{variant:"outlined",onClick:function(){n({newKeyDateEventType:s,newEventDescription:b,earliestDateMonth:v,latestDateMonth:C,numberDaysLater:A,referenceEventForKeyDate:P})},children:"Ajouter"}),Object(O.jsx)(x.a,{variant:"outlined",onClick:function(){return i(!1)},children:"Annuler"})]})]})},V=function(e){var t=e.setIsCreateVegView,n=Object(r.useState)(""),i=Object(d.a)(n,2),a=i[0],c=i[1],l=Object(r.useState)(""),s=Object(d.a)(l,2),u=s[0],p=s[1],m=Object(r.useState)(""),v=Object(d.a)(m,2),y=v[0],f=v[1],g=Object(r.useState)("0"),C=Object(d.a)(g,2),E=C[0],S=C[1],w=Object(r.useState)("0"),N=Object(d.a)(w,2),A=N[0],V=N[1],P=Object(r.useState)("0"),K=Object(d.a)(P,2),I=K[0],q=K[1],H=Object(r.useState)("0"),J=Object(d.a)(H,2),W=J[0],z=J[1],B=Object(r.useState)("0"),G=Object(d.a)(B,2),U=G[0],_=G[1],Q=Object(r.useState)("0"),X=Object(d.a)(Q,2),Y=X[0],Z=X[1],$=Object(r.useState)([]),ee=Object(d.a)($,2),te=ee[0],ne=ee[1],ie=Object(r.useState)(!1),ae=Object(d.a)(ie,2),re=ae[0],ce=ae[1];Object(r.useEffect)((function(){var e=(Number(E)*Number(A)).toFixed(2);q(e)}),[E,A]);var le=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("api/vegetable",{name:a,description:u,emoji:y,spacing:{betweenPlantsM:Number(E),betweenLinesM:Number(A),necessarySpaceSqm:Number(I)},harvest:{minKilos:Number(W),maxKilos:Number(U)},wateringFrequencyDays:Number(Y),keyDates:te});case 2:t(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){return Object(O.jsx)(x.a,{variant:"outlined",onClick:function(){return ce(!0)},children:Object(O.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(O.jsx)("div",{children:"+ Ajouter une date cl\xe9"})})})};return Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:24},children:[Object(O.jsx)("h3",{children:"Cr\xe9er une fiche Legume"}),Object(O.jsx)(x.a,{variant:"outlined",onClick:function(){return t(!1)},style:{margin:12},children:"fermer"})]}),Object(O.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:500,margin:"auto"},children:[Object(O.jsxs)(k.a,{children:[Object(O.jsx)(L.a,{htmlFor:"my-input",children:"Denomination du legume"}),Object(O.jsx)(R.a,{id:"my-input","aria-describedby":"my-helper-text",value:a,onChange:function(e){return c(e.target.value)}})]}),Object(O.jsxs)(k.a,{children:[Object(O.jsx)(L.a,{id:"helper2",htmlFor:"my-input2",children:"Emoji"}),Object(O.jsx)(M.a,{value:y,onChange:function(e){return f(e.target.value)},children:["","\ud83c\udf36","\ud83c\udf3d","\ud83c\udf45","\ud83e\udd55","\ud83c\udf46","\ud83e\udd6c","\ud83e\uddc5","\ud83e\udd66","\ud83c\udf47","\ud83e\udd54","\ud83e\udd52","\ud83e\uddc4"," \ud83c\udf49","\ud83c\udf48"].map((function(e){return Object(O.jsx)("option",{value:e,children:e})}))})]}),Object(O.jsxs)(k.a,{children:[Object(O.jsx)(L.a,{htmlFor:"my-input111",children:"Description du legume"}),Object(O.jsx)(R.a,{id:"my-input111","aria-describedby":"my-helper-text111",value:u,onChange:function(e){return p(e.target.value)}})]}),Object(O.jsxs)(k.a,{children:[Object(O.jsx)(L.a,{htmlFor:"my-input3",children:"Espace entre les plants (m)"}),Object(O.jsx)(R.a,{id:"my-input3","aria-describedby":"my-helper-text3",type:"number",value:E,onChange:function(e){e&&S(e.target.value)}})]}),Object(O.jsxs)(k.a,{children:[Object(O.jsx)(L.a,{htmlFor:"my-input4",children:"Espace entre les lignes (m)"}),Object(O.jsx)(R.a,{id:"my-input4","aria-describedby":"my-helper-text4",type:"number",value:A,onChange:function(e){e&&V(e.target.value)}})]}),Object(O.jsxs)(k.a,{children:[Object(O.jsx)(L.a,{htmlFor:"my-input5",children:"Espace par plant necessaire (m2)"}),Object(O.jsx)(R.a,{id:"my-input5","aria-describedby":"my-helper-text5",type:"number",value:I,onChange:function(e){return q(e.target.value)}})]}),Object(O.jsxs)(F,{flexDirection:"row",children:[Object(O.jsx)("h4",{children:"Recolte par plant (kg)"}),Object(O.jsx)("div",{style:{paddingLeft:16,paddingRight:16},children:Object(O.jsxs)(k.a,{children:[Object(O.jsx)(L.a,{htmlFor:"my-input8",children:"Min"}),Object(O.jsx)(R.a,{id:"my-input8","aria-describedby":"my-helper-text8",type:"number",value:W,onChange:function(e){return z(e.target.value)}})]})}),Object(O.jsxs)(k.a,{children:[Object(O.jsx)(L.a,{htmlFor:"my-input9",children:"Max"}),Object(O.jsx)(R.a,{id:"my-input9","aria-describedby":"my-helper-text9",type:"number",value:U,onChange:function(e){return _(e.target.value)}})]})]}),Object(O.jsxs)(k.a,{children:[Object(O.jsx)(L.a,{htmlFor:"my-input10",children:"Arroser tous les ... jours"}),Object(O.jsx)(R.a,{id:"my-input10","aria-describedby":"my-helper-text10",type:"number",value:Y,onChange:function(e){return Z(e.target.value)}})]}),Object(O.jsx)("h4",{children:"Dates cl\xe9:"}),re?Object(O.jsx)(T,{keyDates:te,addKeyDate:function(e){var t=e.newKeyDateEventType,n=e.newEventDescription,i=e.earliestDateMonth,a=e.latestDateMonth,r=e.numberDaysLater,c=e.referenceEventForKeyDate,l={eventName:t,description:n,earliest:i,latest:a,calculationMethod:r?{differenceInDays:r,toEvent:c}:void 0},s=te.concat([l]);ne(s),ce(!1)},setIsAddKeyDateView:ce}):Object(O.jsx)(se,{}),te.map((function(e,t){return Object(O.jsx)(D,{date:e,deleteKeyDate:function(){return function(e){var t=te;t.splice(e,1),ne(Object(o.a)(t))}(t)}},t)})),Object(O.jsx)("div",{style:{padding:24,margin:"auto"},children:Object(O.jsx)(x.a,{onClick:le,variant:"contained",children:"Creer"})})]})]})},P={padding:20,display:"flex"},K=function(){var e=Object(r.useState)(null),t=Object(d.a)(e,2),n=t[0],i=t[1],a=Object(r.useState)(!1),c=Object(d.a)(a,2),l=c[0],s=c[1],u=Object(r.useState)([""]),p=Object(d.a)(u,2),x=p[0],m=p[1];Object(r.useEffect)((function(){(function(){var e=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("/api/vegetable");case 3:t=e.sent,(n=t.data)&&m([""].concat(Object(o.a)(n))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[l,n]);var y=function(){return s(!0)},g=x.map((function(e,t){return 0===t?Object(O.jsx)(f,{createNewVegHandler:y}):Object(O.jsx)(v,{vegName:e.name,vegEmoji:e.emoji,selectCurrentVeg:function(){i(e)}})}));return Object(O.jsx)("div",{children:l?Object(O.jsx)(V,{setIsCreateVegView:s}):n?Object(O.jsx)(N,{selectedVeg:n,setSelectedVeg:i}):Object(O.jsx)("div",{style:P,children:g})})},I=function(){return Object(O.jsxs)("div",{style:{padding:20},children:[Object(O.jsx)("h2",{children:"Jardin"}),Object(O.jsx)("p",{children:"Page en construction - \xe7a va venir - avec plan des parcelles et contenus de chacune d'elles"})]})},q={maxWidth:900,margin:"auto",display:"flex",flexDirection:"column",border:"solid 1px #aaa"},H={padding:20},J="VEGES",W="GARDEN",z=function(){var e=Object(r.useState)(J),t=Object(d.a)(e,2),n=t[0],i=t[1];return Object(O.jsxs)("div",{style:q,children:[Object(O.jsx)("div",{style:H,children:Object(O.jsx)("h1",{children:"Bienvenue a Smart Jardin!"})}),Object(O.jsxs)("div",{style:{display:"flex",flex:1,padding:10},children:[Object(O.jsx)("div",{style:{padding:10},children:Object(O.jsx)(x.a,{color:n===J?"primary":"default",variant:"outlined",onClick:function(){return i(J)},children:Object(O.jsx)("h3",{children:"Legumes"})})}),Object(O.jsx)("div",{style:{padding:10},children:Object(O.jsx)(x.a,{color:n===W?"primary":"default",variant:"outlined",onClick:function(){return i(W)},children:Object(O.jsx)("h3",{children:"Jardin"})})})]}),n===J&&Object(O.jsx)(K,{}),n===W&&Object(O.jsx)(I,{})]})},B=function(){return Object(O.jsx)(z,{})},G=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,134)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),i(e),a(e),r(e),c(e)}))};s.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(B,{})}),document.getElementById("root")),G()}},[[99,1,2]]]);
//# sourceMappingURL=main.c9680585.chunk.js.map